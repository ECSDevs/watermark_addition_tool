<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>摄影作品水印添加工具</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>摄影作品水印添加工具</h1>
    
    <div class="container">
        <div class="upload-section">
            <h2>上传文件</h2>
            
            <div id="photoUpload" class="upload-box">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/>
                    <polyline points="21 15 16 10 5 21"/>
                </svg>
                <h3>上传摄影作品</h3>
                <p>点击或拖放图片文件到这里</p>
                <input type="file" id="photoInput" accept="image/*" multiple style="display: none;">
            </div>
            
            <div id="watermarkUpload" class="upload-box">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"/>
                    <line x1="16" y1="8" x2="2" y2="22"/>
                    <line x1="17.5" y1="15" x2="9" y2="15"/>
                </svg>
                <h3>上传水印图片</h3>
                <p>请上传PNG格式的水印图片</p>
                <input type="file" id="watermarkInput" accept="image/png" style="display: none;">
            </div>
            
            <div id="watermarkPreviewContainer" style="text-align: center; margin-top: 15px; display: none;">
                <h3>水印预览</h3>
                <img id="watermarkPreview" class="watermark-preview" src="" alt="水印预览">
                <p id="watermarkInfo" class="file-info"></p>
            </div>
            
            <div class="watermark-settings">
                <h3>水印设置</h3>
                
                <div class="setting-group">
                    <label for="opacityRange">透明度</label>
                    <input type="range" id="opacityRange" min="10" max="100" value="70" step="5">
                    <div class="range-value"><span id="opacityValue">70%</span></div>
                </div>
                
                <div class="setting-group">
                    <label for="sizeRange">大小</label>
                    <input type="range" id="sizeRange" min="10" max="50" value="25" step="5">
                    <div class="range-value"><span id="sizeValue">25%</span></div>
                </div>
                
                <div class="setting-group">
                    <label for="marginRange">底部边距</label>
                    <input type="range" id="marginRange" min="0" max="50" value="20" step="5">
                    <div class="range-value"><span id="marginValue">20px</span></div>
                </div>
                
                <div class="setting-group">
                    <input type="checkbox" id="autoColorSwitch" checked>
                    <label for="autoColorSwitch">根据背景自动切换水印颜色</label>
                </div>
                
                <div class="setting-group" id="manualColorGroup" style="display: none;">
                    <label for="watermarkColor">水印颜色</label>
                    <div style="display: flex; gap: 10px; margin-top: 5px;">
                        <button type="button" class="color-btn" data-color="#000000" style="background-color: #000000; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid #ccc;"></button>
                        <button type="button" class="color-btn" data-color="#FFFFFF" style="background-color: #FFFFFF; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid #ccc;"></button>
                        <input type="color" id="watermarkColor" value="#000000" style="margin-left: 10px;">
                    </div>
                </div>
            </div>
            
            <button id="applyWatermarkBtn" class="btn" disabled>应用水印到所有图片</button>
            <button id="downloadAllBtn" class="btn download-all-btn" disabled>下载所有处理后的图片</button>
        </div>
        
        <div class="preview-section">
            <h2>预览</h2>
            
            <div id="noImagesMessage" class="no-images-message">
                <p>请上传摄影作品和水印图片以预览效果</p>
            </div>
            
            <div id="previewContainer" class="preview-container">
                <img id="previewImage" src="" alt="预览图片">
            </div>
            
            <div id="thumbnailContainer" class="thumbnail-container"></div>
            
            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p>正在处理图片...</p>
            </div>
        </div>
    </div>

    <footer>
        &copy; 2025 元素周期表. All rights reserved.
    </footer>

    <script src="script.js?v=1.0"></script>
</body>
</html>